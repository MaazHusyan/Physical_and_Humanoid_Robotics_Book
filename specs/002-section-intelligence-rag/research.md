# RAG System Research Summary

## 1. Jina AI Free Embeddings
- **Model Recommendation**: `jina-embeddings-v3` is the current flagship. It is highly optimized for technical and multilingual text with an 8192 token context window. While `v2-base-en` is solid for English technical text, `v3` offers better task-specific adapters.
- **API and Rate Limits**:
  - **Free Tier**: New users get **10 million free tokens**.
  - **Limits (with API Key)**: 2,000 Requests Per Minute (RPM) and 5,000,000 Tokens Per Minute (TPM).
  - **Limits (without API Key)**: 500 RPM / 1,000,000 TPM.
- **Usage**: API is OpenAI-compatible. The model supports "Late Interaction" (ColBERT-style) for high-precision retrieval.

## 2. Qdrant Cloud: Multi-chapter Indexing
- **Best Practice**: **One collection with metadata (payload) filtering.**
- **Rationale**: Qdrant's documentation emphasizes "multitenancy" using payload-based partitioning. Creating separate collections for each chapter adds significant resource overhead and complicates cross-chapter queries.
- **Strategy**: Store `chapter_id`, `page_number`, and `section` as payload fields. Use Qdrant's `filter` parameter to restrict searches to specific chapters when needed.

## 3. Gemini 2.0 Flash via OpenAI Agent SDK
- **Library Identification**: Based on `References/gemini_model.py`, the required library is **`openai-agents`**.
- **Implementation Note**:
  - The SDK allows using Gemini via its OpenAI-compatible endpoint (`https://generativelanguage.googleapis.com/v1beta/openai/`).
  - Required package: `pip install openai-agents`.
  - Core classes used in your reference: `AsyncOpenAI`, `OpenAIChatCompletionsModel`, and `RunConfig`.

## 4. Docusaurus sidebars.js Automation
- **Best Practice**: Use the **`autogenerated`** sidebar type.
- **Implementation**:
  ```javascript
  module.exports = {
    mySidebar: [
      {
        type: 'autogenerated',
        dirName: '.', // '.' matches the 'docs' directory root
      },
    ],
  };
  ```
- **Customization**: You can add `_category_.json` files in subfolders to control the label and position of folder-based categories without manually editing `sidebars.js`.

---
**Sources**:
- [Jina AI Embeddings](https://jina.ai/embeddings/)
- [Qdrant Multitenancy Documentation](https://qdrant.tech/documentation/concepts/collections/)
- [OpenAI Agents SDK GitHub](https://github.com/openai/openai-agents-python)
- [Docusaurus Autogenerated Sidebars](https://docusaurus.io/docs/sidebar/autogenerated)
